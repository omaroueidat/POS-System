2024-08-29 09:10:02.208 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:10:03.840 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:10:58.937 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:11:00.568 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-29 09:11:00.740 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-29 09:11:00.745 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-29 09:11:00.747 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-29 09:11:00.806 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-08-29 09:11:00.839 +03:00 [INF] Applying migration '20240829061006_Seeding-Admin-Table-and-Altering-Tables'.
2024-08-29 09:11:01.318 +03:00 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = '46cca4c8-81d4-42e6-982e-57cb898f5b8e';
SELECT @@ROWCOUNT;
2024-08-29 09:11:01.328 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = 'e4dc5f01-2ab8-4f8c-9a05-863e3e061d86';
SELECT @@ROWCOUNT;
2024-08-29 09:11:01.337 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = 'e9d629cc-af77-4f08-b64a-d64a8f4941ef';
SELECT @@ROWCOUNT;
2024-08-29 09:11:01.553 +03:00 [INF] Executed DbCommand (215ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'AdminId', N'AppUserId') AND [object_id] = OBJECT_ID(N'[Admin]'))
    SET IDENTITY_INSERT [Admin] ON;
INSERT INTO [Admin] ([AdminId], [AppUserId])
VALUES ('57c34bc4-a4d5-4124-8f95-db13978fbeac', '57c34bc4-a4d5-4124-8f95-db13978fbeaa');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'AdminId', N'AppUserId') AND [object_id] = OBJECT_ID(N'[Admin]'))
    SET IDENTITY_INSERT [Admin] OFF;
2024-08-29 09:11:01.605 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES ('62538c8a-00f9-4b26-ba51-9e91c7b1b46c', NULL, N'Admin', N'ADMIN'),
('78690e7e-3f98-462c-9bca-7179ae2788dc', NULL, N'SuperMarket', N'SUPERMARKET'),
('8f057673-c8b2-4be0-8448-d797664ef81b', NULL, N'Employee', N'EMPLOYEE');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-08-29 09:11:01.617 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'0ec3b106-25c0-45d4-b3f3-6520aa5d4e6a'
WHERE [Id] = '57c34bc4-a4d5-4124-8f95-db13978fbeaa';
SELECT @@ROWCOUNT;
2024-08-29 09:11:01.619 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'66040eb4-3975-48dc-8fce-11a6b04caee8'
WHERE [Id] = '57c34bc4-a4d5-4124-8f95-db13978fbeab';
SELECT @@ROWCOUNT;
2024-08-29 09:11:01.621 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'29127c8a-0101-4e39-b085-99754c27ff6b'
WHERE [Id] = '57c34bc4-a4d5-4124-8f95-db13978fbeac';
SELECT @@ROWCOUNT;
2024-08-29 09:11:02.138 +03:00 [INF] Executed DbCommand (434ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE SuperMarket
                ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
                    UpdatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:11:02.156 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE Employee
                ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
                    UpdatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:11:02.168 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE Stock
                ADD UpdatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:11:02.181 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE Invoice
                ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:11:02.192 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE Category
                ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
                    UpdatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:11:02.228 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240829061006_Seeding-Admin-Table-and-Altering-Tables', N'8.0.7');
2024-08-29 09:11:24.854 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 09:11:26.745 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 09:11:26.749 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 09:11:26.760 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 09:11:26.763 +03:00 [INF] Hosting environment: Development
2024-08-29 09:11:26.766 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 09:11:29.327 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 09:11:30.742 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1430.1676ms
2024-08-29 09:11:32.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 09:11:32.852 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 31.2225ms
2024-08-29 09:11:38.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 09:11:38.308 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 112.8075ms
2024-08-29 09:11:47.136 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 09:11:47.453 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Employee" for actions - POS_System.Controllers.EmployeeController.GetEmployeesOfSupermarket (POS System),POS_System.Controllers.EmployeeController.GetEmployeeImage (POS System). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-29 09:11:47.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 434.8805ms
2024-08-29 09:14:40.303 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 09:14:40.521 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-29 09:14:40.525 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-29 09:14:40.553 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/AdminAuth/Login - 405 0 null 250.5559ms
2024-08-29 09:14:45.924 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 09:14:46.142 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 09:14:46.224 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 09:14:46.980 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 736.7982ms
2024-08-29 09:14:46.989 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 09:14:47.207 +03:00 [ERR] 27efe8f9-7121-4aab-858f-204da7f9311f : Unable to resolve service for type 'Services.Interfaces.IAdminService' while attempting to activate 'POS_System.Controllers.Auth_Controllers.AdminAuthController'.
System.InvalidOperationException: Unable to resolve service for type 'Services.Interfaces.IAdminService' while attempting to activate 'POS_System.Controllers.Auth_Controllers.AdminAuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at POS_System.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System\Middlewares\ExceptionHandlerMiddleware.cs:line 21
2024-08-29 09:14:47.301 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 500 null application/json; charset=utf-8 1377.3015ms
2024-08-29 09:16:23.325 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 09:16:25.094 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 09:16:25.098 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 09:16:25.106 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 09:16:25.109 +03:00 [INF] Hosting environment: Development
2024-08-29 09:16:25.112 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 09:16:26.443 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 09:16:27.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 906.9425ms
2024-08-29 09:16:27.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 09:16:27.464 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 09:16:27.578 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 123.5525ms
2024-08-29 09:16:27.759 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 294.9853ms
2024-08-29 09:16:27.851 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 09:16:28.383 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Employee" for actions - POS_System.Controllers.EmployeeController.GetEmployeesOfSupermarket (POS System),POS_System.Controllers.EmployeeController.GetEmployeeImage (POS System). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-29 09:16:28.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 903.9657ms
2024-08-29 09:16:36.898 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 09:16:37.206 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 09:16:37.295 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 09:16:41.552 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:16:44.425 +03:00 [INF] Executed DbCommand (110ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 09:16:44.829 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 09:16:45.195 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 09:16:45.226 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 7916.6245ms
2024-08-29 09:16:45.243 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 09:16:45.293 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 8394.6975ms
2024-08-29 09:17:02.672 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/SuperMarket - null null
2024-08-29 09:17:02.898 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:17:02.917 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:17:02.937 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-29 09:17:02.966 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 09:17:02.969 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/SuperMarket - 401 0 null 297.5007ms
2024-08-29 09:17:25.807 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/SuperMarket - null null
2024-08-29 09:17:25.893 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:17:25.904 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:17:25.922 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-29 09:17:25.931 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 09:17:25.935 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/SuperMarket - 401 0 null 127.5426ms
2024-08-29 09:18:41.437 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 09:18:41.447 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 09:18:41.477 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 09:18:41.670 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 09:18:41.716 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 09:18:41.763 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 09:18:41.771 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 287.4345ms
2024-08-29 09:18:41.779 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 09:18:41.786 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 348.6879ms
2024-08-29 09:20:34.709 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 09:20:34.722 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:20:34.730 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:20:34.733 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-29 09:20:34.736 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-29 09:20:34.738 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/SuperMarketAuth/Register - 405 0 null 29.1565ms
2024-08-29 09:20:39.435 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 09:20:39.573 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:20:39.895 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:20:39.922 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 09:20:39.925 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 09:20:39.928 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 492.5527ms
2024-08-29 09:20:57.099 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 09:20:57.108 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:20:57.123 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:20:57.142 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 09:20:57.281 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 09:20:57.310 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 210.2381ms
2024-08-29 09:21:22.847 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee/30f7b5d4-6f6f-41ef-9cd6-ae050c0812ac - null null
2024-08-29 09:21:22.868 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:21:22.878 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:21:22.881 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-29 09:21:22.884 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-29 09:21:22.887 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee/30f7b5d4-6f6f-41ef-9cd6-ae050c0812ac - 405 0 null 39.8408ms
2024-08-29 09:21:35.293 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 09:21:35.306 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:21:35.320 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:21:35.325 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 09:21:35.329 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 09:21:35.337 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 43.9836ms
2024-08-29 09:28:53.472 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:28:54.395 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:29:30.802 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:29:32.502 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:29:33.774 +03:00 [INF] Executed DbCommand (1,083ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [POS_System];
2024-08-29 09:29:34.518 +03:00 [INF] Executed DbCommand (734ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [POS_System] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-08-29 09:29:34.644 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-29 09:29:35.345 +03:00 [INF] Executed DbCommand (546ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-08-29 09:29:35.386 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-29 09:29:35.430 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-29 09:29:35.446 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-08-29 09:29:35.479 +03:00 [INF] Applying migration '20240829062855_Database-Rework-Adding-Authentication-Database-Schema'.
2024-08-29 09:29:35.841 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-08-29 09:29:35.845 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] uniqueidentifier NOT NULL,
    [Role] nvarchar(max) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-08-29 09:29:35.848 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Category] (
    [CategoryId] uniqueidentifier NOT NULL,
    [CategoryName] nvarchar(max) NULL,
    [CategoryImage] nvarchar(max) NULL,
    CONSTRAINT [PK_Category] PRIMARY KEY ([CategoryId])
);
2024-08-29 09:29:35.851 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Customer] (
    [CustomerId] uniqueidentifier NOT NULL,
    [CustomerName] nvarchar(max) NULL,
    [PhoneNumber] int NOT NULL,
    [CustomerAddress] nvarchar(max) NULL,
    CONSTRAINT [PK_Customer] PRIMARY KEY ([CustomerId])
);
2024-08-29 09:29:35.858 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-08-29 09:29:35.901 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Admin] (
    [AdminId] uniqueidentifier NOT NULL,
    [AppUserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Admin] PRIMARY KEY ([AdminId]),
    CONSTRAINT [FK_Admin_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-08-29 09:29:35.906 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] uniqueidentifier NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-08-29 09:29:35.915 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-08-29 09:29:35.932 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] uniqueidentifier NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-08-29 09:29:37.481 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] uniqueidentifier NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-08-29 09:29:38.838 +03:00 [INF] Executed DbCommand (1,357ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SuperMarket] (
    [SuperMarketId] uniqueidentifier NOT NULL DEFAULT (NEWID()),
    [AppUserId] uniqueidentifier NOT NULL,
    [SupermarketName] nvarchar(max) NULL,
    [Address] nvarchar(max) NULL,
    [PhoneNumber] int NOT NULL,
    CONSTRAINT [PK_SuperMarket] PRIMARY KEY ([SuperMarketId]),
    CONSTRAINT [FK_SuperMarket_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);
2024-08-29 09:29:38.931 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Product] (
    [ProductId] uniqueidentifier NOT NULL,
    [CategoryId] uniqueidentifier NOT NULL,
    [ProductCode] bigint NOT NULL,
    [Price] real NOT NULL,
    [Cost] real NOT NULL,
    [Discount] decimal(18,2) NOT NULL,
    [Description] nvarchar(max) NULL,
    [ProductImage] nvarchar(max) NULL,
    [ManDate] datetime2 NOT NULL,
    [ExpDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Product] PRIMARY KEY ([ProductId]),
    CONSTRAINT [FK_Product_Category_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Category] ([CategoryId]) ON DELETE CASCADE
);
2024-08-29 09:29:39.114 +03:00 [INF] Executed DbCommand (183ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Employee] (
    [EmployeeId] uniqueidentifier NOT NULL,
    [AppUserId] uniqueidentifier NOT NULL,
    [SupermarketId] uniqueidentifier NOT NULL,
    [EmployeeName] nvarchar(30) NULL,
    [EmployeeImage] nvarchar(max) NULL,
    [Address] nvarchar(40) NULL,
    [PhoneNumber] int NOT NULL,
    CONSTRAINT [PK_Employee] PRIMARY KEY ([EmployeeId]),
    CONSTRAINT [FK_Employee_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Employee_SuperMarket_SupermarketId] FOREIGN KEY ([SupermarketId]) REFERENCES [SuperMarket] ([SuperMarketId]) ON DELETE CASCADE
);
2024-08-29 09:29:39.496 +03:00 [INF] Executed DbCommand (163ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stock] (
    [StockId] uniqueidentifier NOT NULL,
    [ProductId] uniqueidentifier NOT NULL,
    [SuperMarketId] uniqueidentifier NOT NULL,
    [Quantity] bigint NOT NULL,
    CONSTRAINT [PK_Stock] PRIMARY KEY ([StockId]),
    CONSTRAINT [FK_Stock_Product_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Product] ([ProductId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Stock_SuperMarket_SuperMarketId] FOREIGN KEY ([SuperMarketId]) REFERENCES [SuperMarket] ([SuperMarketId]) ON DELETE CASCADE
);
2024-08-29 09:29:39.544 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [EmployeeLog] (
    [EmployeeLogId] uniqueidentifier NOT NULL,
    [EmployeeId] uniqueidentifier NOT NULL,
    [LogInDate] datetime2 NOT NULL,
    [LogOutDate] datetime2 NOT NULL,
    CONSTRAINT [PK_EmployeeLog] PRIMARY KEY ([EmployeeLogId]),
    CONSTRAINT [FK_EmployeeLog_Employee_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [Employee] ([EmployeeId]) ON DELETE CASCADE
);
2024-08-29 09:29:39.559 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Invoice] (
    [InvoiceId] uniqueidentifier NOT NULL,
    [EmployeeId] uniqueidentifier NOT NULL,
    [Total] real NOT NULL,
    CONSTRAINT [PK_Invoice] PRIMARY KEY ([InvoiceId]),
    CONSTRAINT [FK_Invoice_Employee_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [Employee] ([EmployeeId]) ON DELETE CASCADE
);
2024-08-29 09:29:39.616 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CustomerInvoice] (
    [CustomerId] uniqueidentifier NOT NULL,
    [InvoiceId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_CustomerInvoice] PRIMARY KEY ([CustomerId], [InvoiceId]),
    CONSTRAINT [FK_CustomerInvoice_Customer_CustomerId] FOREIGN KEY ([CustomerId]) REFERENCES [Customer] ([CustomerId]) ON DELETE CASCADE,
    CONSTRAINT [FK_CustomerInvoice_Invoice_InvoiceId] FOREIGN KEY ([InvoiceId]) REFERENCES [Invoice] ([InvoiceId]) ON DELETE CASCADE
);
2024-08-29 09:29:40.557 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [InvoiceDetails] (
    [InvoiceDetailsId] uniqueidentifier NOT NULL,
    [InvoiceId] uniqueidentifier NOT NULL,
    [ProductId] uniqueidentifier NOT NULL,
    [Quantity] int NOT NULL,
    CONSTRAINT [PK_InvoiceDetails] PRIMARY KEY ([InvoiceDetailsId]),
    CONSTRAINT [FK_InvoiceDetails_Invoice_InvoiceId] FOREIGN KEY ([InvoiceId]) REFERENCES [Invoice] ([InvoiceId]) ON DELETE CASCADE,
    CONSTRAINT [FK_InvoiceDetails_Product_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [Product] ([ProductId]) ON DELETE CASCADE
);
2024-08-29 09:29:40.563 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SalesHistory] (
    [SalesHistoryId] uniqueidentifier NOT NULL,
    [InvoiceId] uniqueidentifier NOT NULL,
    [Profit] real NOT NULL,
    CONSTRAINT [PK_SalesHistory] PRIMARY KEY ([SalesHistoryId]),
    CONSTRAINT [FK_SalesHistory_Invoice_InvoiceId] FOREIGN KEY ([InvoiceId]) REFERENCES [Invoice] ([InvoiceId]) ON DELETE CASCADE
);
2024-08-29 09:29:40.646 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES ('3c356507-2ddb-42a8-b524-ccd91bdb6907', NULL, N'Admin', N'ADMIN'),
('3cea128b-61a8-4f3c-9e9f-4746373900c5', NULL, N'Employee', N'EMPLOYEE'),
('829c81b7-4d09-40c1-8c85-bdd122f80e4a', NULL, N'SuperMarket', N'SUPERMARKET');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-08-29 09:29:41.722 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'Email', N'EmailConfirmed', N'LockoutEnabled', N'LockoutEnd', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'Role', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES ('57c34bc4-a4d5-4124-8f95-db13978fbeaa', 0, N'a64e30d5-78ed-46b2-83ab-e2da038dead8', N'admin@gmail.com', CAST(0 AS bit), CAST(0 AS bit), NULL, N'ADMIN@GMAIL.COM', N'ADMIN', NULL, NULL, CAST(0 AS bit), N'Admin', NULL, CAST(0 AS bit), N'admin'),
('57c34bc4-a4d5-4124-8f95-db13978fbeab', 0, N'c2248349-55f9-4d40-83eb-fa29a0436f33', N'tawfeer@gmail.com', CAST(0 AS bit), CAST(0 AS bit), NULL, N'TAWFEER@GMAIL.COM', N'TAWFEER', NULL, NULL, CAST(0 AS bit), N'SuperMarket', NULL, CAST(0 AS bit), N'tawfeer'),
('57c34bc4-a4d5-4124-8f95-db13978fbeac', 0, N'6b32e614-0771-4495-9809-f4177da28b4b', N'employee@gmail.com', CAST(0 AS bit), CAST(0 AS bit), NULL, N'EMPLOYEE@GMAIL.COM', N'EMPLOYEE', NULL, NULL, CAST(0 AS bit), N'Employee', NULL, CAST(0 AS bit), N'employee');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'Email', N'EmailConfirmed', N'LockoutEnabled', N'LockoutEnd', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'Role', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] OFF;
2024-08-29 09:29:42.658 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'CategoryId', N'CategoryImage', N'CategoryName') AND [object_id] = OBJECT_ID(N'[Category]'))
    SET IDENTITY_INSERT [Category] ON;
INSERT INTO [Category] ([CategoryId], [CategoryImage], [CategoryName])
VALUES ('63e2c242-e7c2-4ac1-8545-8c635c2cb97a', NULL, N'Drinks'),
('63e2c242-e7c2-4ac1-8545-8c635c2cb97b', NULL, N'Food'),
('63e2c242-e7c2-4ac1-8545-8c635c2cb97c', NULL, N'Accessories'),
('63e2c242-e7c2-4ac1-8545-8c635c2cb97d', NULL, N'Bakery'),
('63e2c242-e7c2-4ac1-8545-8c635c2cb97e', NULL, N'Meat');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'CategoryId', N'CategoryImage', N'CategoryName') AND [object_id] = OBJECT_ID(N'[Category]'))
    SET IDENTITY_INSERT [Category] OFF;
2024-08-29 09:29:42.688 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'CustomerId', N'CustomerAddress', N'CustomerName', N'PhoneNumber') AND [object_id] = OBJECT_ID(N'[Customer]'))
    SET IDENTITY_INSERT [Customer] ON;
INSERT INTO [Customer] ([CustomerId], [CustomerAddress], [CustomerName], [PhoneNumber])
VALUES ('0f4d2c4b-3c2a-4d58-962f-8b1a1e5d6d89', N'456 Walnut St, Springfield', N'Rachel Hill', 23457),
('2b98e616-8e6a-4c4a-8908-7e8f6c6b9f7e', N'456 Willow St, Springfield', N'Frank Harris', 89012),
('2d7418db-c4e4-44c4-947f-e8dc56f0c517', N'321 Maple St, Springfield', N'Bob Brown', 45678),
('4f4d08a4-8827-4d65-89a6-0a50f4769fa4', N'654 Cedar St, Springfield', N'Charlie Davis', 56789),
('5e14a6b8-d89c-4a9b-a57d-d53b6f073b1f', N'987 Oak St, Springfield', N'Paul King', 90123),
('5e1d1c9c-8f2a-4b0b-bcf7-1c44e5a62e1d', N'456 Oak St, Springfield', N'Jane Smith', 23456),
('6e8e03c6-8d21-44a3-9f5d-17443477d05f', N'321 Oak St, Springfield', N'Henry Lewis', 12345),
('7f62de52-2c1e-4a79-9e46-3d2f5e1d8e43', N'789 Maple St, Springfield', N'Grace Clark', 90123),
('a638dfb5-8a52-4fcf-b9e1-4a732df8a38c', N'654 Pine St, Springfield', N'Ivy Walker', 23456),
('a8e3c9b1-6c1d-4d78-9d2a-4f5b6c7d8e9f', N'987 Walnut St, Springfield', N'Victor Wood', 67891),
('adad9f9c-94a7-4a07-9a51-8c5c5c8d80cf', N'789 Walnut St, Springfield', N'Mia Scott', 67890),
('b1adfce6-5d7c-4c2b-8963-07e2e3c0c4a1', N'123 Birch St, Springfield', N'Quincy Green', 12346),
('b2e8a3c2-17e5-49b1-b0d9-3a6e7e8f9d1e', N'654 Birch St, Springfield', N'Ursula Morgan', 56780),
('c4c1d85b-f09e-48a0-8f1e-2b4c1d2f6a2d', N'321 Cedar St, Springfield', N'Tina Lee', 45679),
('c8f76e8d-1b9e-4d3d-8d58-20b2a0f11a3b', N'987 Birch St, Springfield', N'David Wilson', 67890),
('d1e6a2f5-0d5a-4d35-835b-623eaf6b3b43', N'123 Elm St, Springfield', N'John Doe', 12345),
('d6f2a9b1-4381-4ef0-8f9b-1a2e3c4d5b67', N'789 Willow St, Springfield', N'Steve Harris', 34568),
('df6840f1-517b-4c51-9a4d-b8b9e5b4c59c', N'456 Birch St, Springfield', N'Liam Young', 56789),
('e0d11f8f-fb26-4b58-9b1b-fb18c8b01a2e', N'789 Pine St, Springfield', N'Alice Johnson', 34567),
('e4a7d7f5-3196-4cc8-9142-9d5ab0d8a746', N'123 Cedar St, Springfield', N'Kathy Allen', 45678),
('e9f2b3e7-ff84-4e7b-989d-d582f4a0e1d6', N'654 Maple St, Springfield', N'Olivia Nelson', 89012),
('f0a7c573-55e8-4db1-b31f-93e7b72d4f1d', N'321 Willow St, Springfield', N'Noah Adams', 78901),
('f4e5b029-3b58-4a67-b1b6-2d23ac7f69d2', N'123 Walnut St, Springfield', N'Emma Taylor', 78901),
('fabc3a9d-98b4-4c62-9440-5b1e1caa74a2', N'987 Elm St, Springfield', N'Jack Hall', 34567);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'CustomerId', N'CustomerAddress', N'CustomerName', N'PhoneNumber') AND [object_id] = OBJECT_ID(N'[Customer]'))
    SET IDENTITY_INSERT [Customer] OFF;
2024-08-29 09:29:43.839 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'AdminId', N'AppUserId') AND [object_id] = OBJECT_ID(N'[Admin]'))
    SET IDENTITY_INSERT [Admin] ON;
INSERT INTO [Admin] ([AdminId], [AppUserId])
VALUES ('57c34bc4-a4d5-4124-8f95-db13978fbeac', '57c34bc4-a4d5-4124-8f95-db13978fbeaa');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'AdminId', N'AppUserId') AND [object_id] = OBJECT_ID(N'[Admin]'))
    SET IDENTITY_INSERT [Admin] OFF;
2024-08-29 09:29:43.973 +03:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'ProductId', N'CategoryId', N'Cost', N'Description', N'Discount', N'ExpDate', N'ManDate', N'Price', N'ProductCode', N'ProductImage') AND [object_id] = OBJECT_ID(N'[Product]'))
    SET IDENTITY_INSERT [Product] ON;
INSERT INTO [Product] ([ProductId], [CategoryId], [Cost], [Description], [Discount], [ExpDate], [ManDate], [Price], [ProductCode], [ProductImage])
VALUES ('d37d22d5-ba61-4d70-ba0c-b7adff04cd41', '63e2c242-e7c2-4ac1-8545-8c635c2cb97e', CAST(0 AS real), NULL, 0.0, '0001-01-01T00:00:00.0000000', '0001-01-01T00:00:00.0000000', CAST(5 AS real), CAST(0 AS bigint), NULL),
('d37d22d5-ba61-4d70-ba0c-b7adff04cd4a', '63e2c242-e7c2-4ac1-8545-8c635c2cb97e', CAST(0 AS real), NULL, 0.0, '0001-01-01T00:00:00.0000000', '0001-01-01T00:00:00.0000000', CAST(1.5 AS real), CAST(0 AS bigint), NULL),
('d37d22d5-ba61-4d70-ba0c-b7adff04cd4b', '63e2c242-e7c2-4ac1-8545-8c635c2cb97a', CAST(0 AS real), NULL, 0.0, '0001-01-01T00:00:00.0000000', '0001-01-01T00:00:00.0000000', CAST(0.99 AS real), CAST(0 AS bigint), NULL),
('d37d22d5-ba61-4d70-ba0c-b7adff04cd4c', '63e2c242-e7c2-4ac1-8545-8c635c2cb97e', CAST(0 AS real), NULL, 0.0, '0001-01-01T00:00:00.0000000', '0001-01-01T00:00:00.0000000', CAST(1.2 AS real), CAST(0 AS bigint), NULL),
('d37d22d5-ba61-4d70-ba0c-b7adff04cd4d', '63e2c242-e7c2-4ac1-8545-8c635c2cb97e', CAST(0 AS real), NULL, 0.0, '0001-01-01T00:00:00.0000000', '0001-01-01T00:00:00.0000000', CAST(2 AS real), CAST(0 AS bigint), NULL),
('d37d22d5-ba61-4d70-ba0c-b7adff04cd4e', '63e2c242-e7c2-4ac1-8545-8c635c2cb97e', CAST(0 AS real), NULL, 0.0, '0001-01-01T00:00:00.0000000', '0001-01-01T00:00:00.0000000', CAST(1 AS real), CAST(0 AS bigint), NULL),
('d37d22d5-ba61-4d70-ba0c-b7adff04cd4f', '63e2c242-e7c2-4ac1-8545-8c635c2cb97d', CAST(0 AS real), NULL, 0.0, '0001-01-01T00:00:00.0000000', '0001-01-01T00:00:00.0000000', CAST(2.5 AS real), CAST(0 AS bigint), NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'ProductId', N'CategoryId', N'Cost', N'Description', N'Discount', N'ExpDate', N'ManDate', N'Price', N'ProductCode', N'ProductImage') AND [object_id] = OBJECT_ID(N'[Product]'))
    SET IDENTITY_INSERT [Product] OFF;
2024-08-29 09:29:44.215 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SuperMarketId', N'Address', N'AppUserId', N'PhoneNumber', N'SupermarketName') AND [object_id] = OBJECT_ID(N'[SuperMarket]'))
    SET IDENTITY_INSERT [SuperMarket] ON;
INSERT INTO [SuperMarket] ([SuperMarketId], [Address], [AppUserId], [PhoneNumber], [SupermarketName])
VALUES ('5f2cfd7a-f135-4dad-9ebd-97014f203791', NULL, '57c34bc4-a4d5-4124-8f95-db13978fbeab', 0, N'Tawfeer');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SuperMarketId', N'Address', N'AppUserId', N'PhoneNumber', N'SupermarketName') AND [object_id] = OBJECT_ID(N'[SuperMarket]'))
    SET IDENTITY_INSERT [SuperMarket] OFF;
2024-08-29 09:29:44.251 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'EmployeeId', N'Address', N'AppUserId', N'EmployeeImage', N'EmployeeName', N'PhoneNumber', N'SupermarketId') AND [object_id] = OBJECT_ID(N'[Employee]'))
    SET IDENTITY_INSERT [Employee] ON;
INSERT INTO [Employee] ([EmployeeId], [Address], [AppUserId], [EmployeeImage], [EmployeeName], [PhoneNumber], [SupermarketId])
VALUES ('536d010d-465c-4c4b-84e9-18d5df4d86aa', N'1 Main St', '57c34bc4-a4d5-4124-8f95-db13978fbeac', NULL, N'Emily Roberts', 1234, '5f2cfd7a-f135-4dad-9ebd-97014f203791');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'EmployeeId', N'Address', N'AppUserId', N'EmployeeImage', N'EmployeeName', N'PhoneNumber', N'SupermarketId') AND [object_id] = OBJECT_ID(N'[Employee]'))
    SET IDENTITY_INSERT [Employee] OFF;
2024-08-29 09:29:45.054 +03:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'StockId', N'ProductId', N'Quantity', N'SuperMarketId') AND [object_id] = OBJECT_ID(N'[Stock]'))
    SET IDENTITY_INSERT [Stock] ON;
INSERT INTO [Stock] ([StockId], [ProductId], [Quantity], [SuperMarketId])
VALUES ('5983cb43-1364-4227-bbf0-0c6ade03bd81', 'd37d22d5-ba61-4d70-ba0c-b7adff04cd41', CAST(80 AS bigint), '5f2cfd7a-f135-4dad-9ebd-97014f203791'),
('5983cb43-1364-4227-bbf0-0c6ade03bd8a', 'd37d22d5-ba61-4d70-ba0c-b7adff04cd4a', CAST(100 AS bigint), '5f2cfd7a-f135-4dad-9ebd-97014f203791'),
('5983cb43-1364-4227-bbf0-0c6ade03bd8b', 'd37d22d5-ba61-4d70-ba0c-b7adff04cd4b', CAST(150 AS bigint), '5f2cfd7a-f135-4dad-9ebd-97014f203791'),
('5983cb43-1364-4227-bbf0-0c6ade03bd8c', 'd37d22d5-ba61-4d70-ba0c-b7adff04cd4c', CAST(200 AS bigint), '5f2cfd7a-f135-4dad-9ebd-97014f203791'),
('5983cb43-1364-4227-bbf0-0c6ade03bd8d', 'd37d22d5-ba61-4d70-ba0c-b7adff04cd4d', CAST(180 AS bigint), '5f2cfd7a-f135-4dad-9ebd-97014f203791'),
('5983cb43-1364-4227-bbf0-0c6ade03bd8e', 'd37d22d5-ba61-4d70-ba0c-b7adff04cd4e', CAST(120 AS bigint), '5f2cfd7a-f135-4dad-9ebd-97014f203791'),
('5983cb43-1364-4227-bbf0-0c6ade03bd8f', 'd37d22d5-ba61-4d70-ba0c-b7adff04cd4f', CAST(90 AS bigint), '5f2cfd7a-f135-4dad-9ebd-97014f203791');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'StockId', N'ProductId', N'Quantity', N'SuperMarketId') AND [object_id] = OBJECT_ID(N'[Stock]'))
    SET IDENTITY_INSERT [Stock] OFF;
2024-08-29 09:29:45.331 +03:00 [INF] Executed DbCommand (200ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'EmployeeLogId', N'EmployeeId', N'LogInDate', N'LogOutDate') AND [object_id] = OBJECT_ID(N'[EmployeeLog]'))
    SET IDENTITY_INSERT [EmployeeLog] ON;
INSERT INTO [EmployeeLog] ([EmployeeLogId], [EmployeeId], [LogInDate], [LogOutDate])
VALUES ('536d010d-465c-4c4b-84e9-18d5df4d86ba', '536d010d-465c-4c4b-84e9-18d5df4d86aa', '0001-01-01T00:00:00.0000000', '0001-01-01T00:00:00.0000000');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'EmployeeLogId', N'EmployeeId', N'LogInDate', N'LogOutDate') AND [object_id] = OBJECT_ID(N'[EmployeeLog]'))
    SET IDENTITY_INSERT [EmployeeLog] OFF;
2024-08-29 09:29:45.380 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'InvoiceId', N'EmployeeId', N'Total') AND [object_id] = OBJECT_ID(N'[Invoice]'))
    SET IDENTITY_INSERT [Invoice] ON;
INSERT INTO [Invoice] ([InvoiceId], [EmployeeId], [Total])
VALUES ('b8b1d94c-7b45-4f7e-8b79-3a24894d4a77', '536d010d-465c-4c4b-84e9-18d5df4d86aa', CAST(150.75 AS real)),
('c9a9e9d1-d23d-4f63-a1b3-0a0f7e62ec99', '536d010d-465c-4c4b-84e9-18d5df4d86aa', CAST(220.5 AS real)),
('d1c3b8a2-41c8-4b27-9f7e-9a4f8e2a6d8b', '536d010d-465c-4c4b-84e9-18d5df4d86aa', CAST(350 AS real)),
('e2d5a4c1-0c5f-4d1a-9c9a-f7a6b0e1e76a', '536d010d-465c-4c4b-84e9-18d5df4d86aa', CAST(190.25 AS real)),
('f3e6d9b2-1d6a-4e4a-8f0a-4c6b9f7e8e8b', '536d010d-465c-4c4b-84e9-18d5df4d86aa', CAST(175 AS real)),
('f4b8d1c5-7a6b-4b2a-8d2e-8f9c4d5e0d8f', '536d010d-465c-4c4b-84e9-18d5df4d86aa', CAST(220 AS real)),
('f5c9e2d1-3b5d-4e4b-8e9d-7f6b1c0a8d7e', '536d010d-465c-4c4b-84e9-18d5df4d86aa', CAST(140.75 AS real)),
('f6d7b8e2-4c6e-4a0f-8f1c-9e3d4b5e6c7f', '536d010d-465c-4c4b-84e9-18d5df4d86aa', CAST(310 AS real)),
('f7e8c9d3-5b7f-4c1a-9e8b-0a1d2e3f4b6c', '536d010d-465c-4c4b-84e9-18d5df4d86aa', CAST(275.5 AS real));
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'InvoiceId', N'EmployeeId', N'Total') AND [object_id] = OBJECT_ID(N'[Invoice]'))
    SET IDENTITY_INSERT [Invoice] OFF;
2024-08-29 09:29:45.883 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'CustomerId', N'InvoiceId') AND [object_id] = OBJECT_ID(N'[CustomerInvoice]'))
    SET IDENTITY_INSERT [CustomerInvoice] ON;
INSERT INTO [CustomerInvoice] ([CustomerId], [InvoiceId])
VALUES ('2b98e616-8e6a-4c4a-8908-7e8f6c6b9f7e', 'd1c3b8a2-41c8-4b27-9f7e-9a4f8e2a6d8b'),
('2d7418db-c4e4-44c4-947f-e8dc56f0c517', 'e2d5a4c1-0c5f-4d1a-9c9a-f7a6b0e1e76a'),
('4f4d08a4-8827-4d65-89a6-0a50f4769fa4', 'f3e6d9b2-1d6a-4e4a-8f0a-4c6b9f7e8e8b'),
('5e1d1c9c-8f2a-4b0b-bcf7-1c44e5a62e1d', 'c9a9e9d1-d23d-4f63-a1b3-0a0f7e62ec99'),
('6e8e03c6-8d21-44a3-9f5d-17443477d05f', 'f3e6d9b2-1d6a-4e4a-8f0a-4c6b9f7e8e8b'),
('7f62de52-2c1e-4a79-9e46-3d2f5e1d8e43', 'e2d5a4c1-0c5f-4d1a-9c9a-f7a6b0e1e76a'),
('c8f76e8d-1b9e-4d3d-8d58-20b2a0f11a3b', 'b8b1d94c-7b45-4f7e-8b79-3a24894d4a77'),
('d1e6a2f5-0d5a-4d35-835b-623eaf6b3b43', 'b8b1d94c-7b45-4f7e-8b79-3a24894d4a77'),
('e0d11f8f-fb26-4b58-9b1b-fb18c8b01a2e', 'd1c3b8a2-41c8-4b27-9f7e-9a4f8e2a6d8b'),
('f4e5b029-3b58-4a67-b1b6-2d23ac7f69d2', 'c9a9e9d1-d23d-4f63-a1b3-0a0f7e62ec99');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'CustomerId', N'InvoiceId') AND [object_id] = OBJECT_ID(N'[CustomerInvoice]'))
    SET IDENTITY_INSERT [CustomerInvoice] OFF;
2024-08-29 09:29:46.549 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Admin_AppUserId] ON [Admin] ([AppUserId]);
2024-08-29 09:29:46.551 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-08-29 09:29:46.560 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-08-29 09:29:46.563 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-08-29 09:29:46.567 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-08-29 09:29:46.569 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-08-29 09:29:46.574 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-08-29 09:29:46.579 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-08-29 09:29:46.584 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CustomerInvoice_InvoiceId] ON [CustomerInvoice] ([InvoiceId]);
2024-08-29 09:29:46.589 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Employee_AppUserId] ON [Employee] ([AppUserId]);
2024-08-29 09:29:46.595 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Employee_SupermarketId] ON [Employee] ([SupermarketId]);
2024-08-29 09:29:47.046 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_EmployeeLog_EmployeeId] ON [EmployeeLog] ([EmployeeId]);
2024-08-29 09:29:47.074 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Invoice_EmployeeId] ON [Invoice] ([EmployeeId]);
2024-08-29 09:29:47.104 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_InvoiceDetails_InvoiceId] ON [InvoiceDetails] ([InvoiceId]);
2024-08-29 09:29:47.121 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_InvoiceDetails_ProductId] ON [InvoiceDetails] ([ProductId]);
2024-08-29 09:29:47.186 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Product_CategoryId] ON [Product] ([CategoryId]);
2024-08-29 09:29:47.191 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_SalesHistory_InvoiceId] ON [SalesHistory] ([InvoiceId]);
2024-08-29 09:29:47.208 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stock_ProductId] ON [Stock] ([ProductId]);
2024-08-29 09:29:47.223 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stock_SuperMarketId] ON [Stock] ([SuperMarketId]);
2024-08-29 09:29:47.242 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_SuperMarket_AppUserId] ON [SuperMarket] ([AppUserId]);
2024-08-29 09:29:47.259 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240829062855_Database-Rework-Adding-Authentication-Database-Schema', N'8.0.7');
2024-08-29 09:34:13.620 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:34:15.241 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:38:03.522 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:38:04.659 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-29 09:38:04.731 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-29 09:38:04.736 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-29 09:38:04.740 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-29 09:38:04.775 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-08-29 09:38:04.809 +03:00 [INF] Applying migration '20240829063417_Altering-Tables-Ading-CreatedAt-UpdatedAt'.
2024-08-29 09:38:05.048 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE SuperMarket
                ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
                    UpdatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:38:05.059 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE Employee
                ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
                    UpdatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:38:05.065 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE Stock
                ADD UpdatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:38:05.073 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE Invoice
                ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:38:05.079 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                ALTER TABLE Category
                ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETDATE(),
                    UpdatedAt DATETIME2 NOT NULL DEFAULT GETDATE();
2024-08-29 09:38:05.082 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240829063417_Altering-Tables-Ading-CreatedAt-UpdatedAt', N'8.0.7');
2024-08-29 09:38:34.619 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 09:38:35.598 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 09:38:35.600 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 09:38:35.606 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 09:38:35.610 +03:00 [INF] Hosting environment: Development
2024-08-29 09:38:35.612 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 09:38:37.253 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 09:38:38.235 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 993.1535ms
2024-08-29 09:38:38.254 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 09:38:38.254 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 09:38:38.286 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 29.0302ms
2024-08-29 09:38:38.675 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 421.9033ms
2024-08-29 09:38:38.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 09:38:39.310 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Employee" for actions - POS_System.Controllers.EmployeeController.GetEmployeesOfSupermarket (POS System),POS_System.Controllers.EmployeeController.GetEmployeeImage (POS System). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-29 09:38:39.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 743.0783ms
2024-08-29 09:38:45.807 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 09:38:46.788 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:38:46.826 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:38:46.843 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 09:38:46.855 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 09:38:46.876 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 1069.5254ms
2024-08-29 09:38:54.573 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 09:38:54.634 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 09:38:54.716 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 09:38:58.327 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 09:39:00.444 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 09:39:00.755 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 09:39:00.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 09:39:00.881 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 5972.5183ms
2024-08-29 09:39:00.886 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 09:39:00.916 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 6342.377ms
2024-08-29 09:39:26.091 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 09:39:26.105 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:39:26.114 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:39:26.123 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 09:39:26.173 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 09:39:26.175 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 84.3934ms
2024-08-29 09:39:32.212 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 09:39:32.223 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 09:39:32.226 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 09:39:32.361 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 09:39:32.383 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 09:39:32.392 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 09:39:32.395 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 164.6179ms
2024-08-29 09:39:32.399 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 09:39:32.402 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 194.5447ms
2024-08-29 09:40:36.088 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 63
2024-08-29 09:40:36.096 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:40:36.104 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:40:36.111 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 09:40:36.114 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 09:40:36.117 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 31.2284ms
2024-08-29 09:44:37.479 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 09:44:37.489 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 09:44:37.499 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 09:44:37.540 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 09:44:37.562 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 09:44:37.594 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 09:44:37.599 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 95.1741ms
2024-08-29 09:44:37.603 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 09:44:37.606 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 130.8168ms
2024-08-29 09:45:44.844 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee/5F2CFD7A-F135-4DAD-9EBD-97014F203791 - null null
2024-08-29 09:45:44.850 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 09:45:44.857 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 09:45:44.860 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-08-29 09:45:44.861 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-08-29 09:45:44.863 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee/5F2CFD7A-F135-4DAD-9EBD-97014F203791 - 405 0 null 19.0689ms
2024-08-29 09:45:53.117 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee - null null
2024-08-29 09:45:53.130 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

POS_System.Controllers.EmployeeController.GetEmployeeImage (POS System)
POS_System.Controllers.EmployeeController.GetEmployeesOfSupermarket (POS System)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-29 09:45:53.142 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee - 500 null text/plain; charset=utf-8 24.6823ms
2024-08-29 09:47:08.650 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 09:47:08.669 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 19.6417ms
2024-08-29 09:47:08.693 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 09:47:08.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 09:47:08.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 14.2364ms
2024-08-29 09:47:08.798 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.8548ms
2024-08-29 09:47:08.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 09:47:08.916 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Employee" for actions - POS_System.Controllers.EmployeeController.GetEmployeesOfSupermarket (POS System),POS_System.Controllers.EmployeeController.GetEmployeeImage (POS System). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-29 09:47:08.917 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/favicon-32x32.png - null null
2024-08-29 09:47:08.933 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 50.3943ms
2024-08-29 09:47:08.980 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-08-29 09:47:08.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/favicon-32x32.png - 200 628 image/png 70.0308ms
2024-08-29 09:47:56.513 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 09:47:56.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 47.7099ms
2024-08-29 09:47:57.020 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee - null null
2024-08-29 09:47:57.158 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

POS_System.Controllers.EmployeeController.GetEmployeeImage (POS System)
POS_System.Controllers.EmployeeController.GetEmployeesOfSupermarket (POS System)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-29 09:47:57.187 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee - 500 null text/plain; charset=utf-8 167.2107ms
2024-08-29 09:47:57.536 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 09:47:57.569 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.9664ms
2024-08-29 09:47:57.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 09:47:57.698 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 6.006ms
2024-08-29 09:47:58.090 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 09:47:58.104 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Employee" for actions - POS_System.Controllers.EmployeeController.GetEmployeesOfSupermarket (POS System),POS_System.Controllers.EmployeeController.GetEmployeeImage (POS System). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-29 09:47:58.117 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 27.9984ms
2024-08-29 09:48:53.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 09:48:53.427 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 17.6347ms
2024-08-29 09:48:53.444 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 09:48:53.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 09:48:53.459 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 14.3923ms
2024-08-29 09:48:53.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.5792ms
2024-08-29 09:48:53.584 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 09:48:53.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.7383ms
2024-08-29 09:48:59.392 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee - null null
2024-08-29 09:48:59.403 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

POS_System.Controllers.EmployeeController.GetEmployeeImage (POS System)
POS_System.Controllers.EmployeeController.GetEmployeesOfSupermarket (POS System)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-29 09:48:59.415 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee - 500 null text/plain; charset=utf-8 23.0702ms
2024-08-29 09:49:29.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 09:49:29.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 34.1633ms
2024-08-29 09:49:29.652 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 09:49:29.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 09:49:29.677 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 21.7233ms
2024-08-29 09:49:29.698 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.5383ms
2024-08-29 09:49:29.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 09:49:29.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.9196ms
2024-08-29 09:49:32.770 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee - null null
2024-08-29 09:49:32.797 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

POS_System.Controllers.EmployeeController.GetEmployeeImage (POS System)
POS_System.Controllers.EmployeeController.GetEmployeesOfSupermarket (POS System)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, Span`1 candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-29 09:49:32.819 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee - 500 null text/plain; charset=utf-8 48.8498ms
2024-08-29 10:35:59.832 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 10:36:01.795 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 10:36:03.019 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 10:36:03.030 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 10:36:03.038 +03:00 [INF] Hosting environment: Development
2024-08-29 10:36:03.041 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 10:36:03.370 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 10:36:05.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1732.1923ms
2024-08-29 10:36:05.172 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 10:36:05.172 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 10:36:05.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 47.1549ms
2024-08-29 10:36:05.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 297.4824ms
2024-08-29 10:36:05.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 10:36:06.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 402.9916ms
2024-08-29 10:36:13.178 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee - null null
2024-08-29 10:36:13.696 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 10:36:14.099 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 10:36:14.120 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperMarket)
2024-08-29 10:36:14.167 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 10:36:15.178 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee - 401 0 null 1999.5983ms
2024-08-29 10:36:27.396 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 10:36:27.426 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:27.502 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 10:36:30.974 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 10:36:33.650 +03:00 [INF] Executed DbCommand (215ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 10:36:33.986 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 10:36:34.139 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 10:36:34.167 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 6645.0776ms
2024-08-29 10:36:34.190 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:34.220 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 6824.2175ms
2024-08-29 10:36:46.899 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 10:36:46.975 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:46.999 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 10:36:47.197 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 10:36:47.214 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 10:36:47.228 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 10:36:47.247 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 222.9603ms
2024-08-29 10:36:47.254 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:47.257 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 358.5199ms
2024-08-29 10:36:49.016 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 10:36:49.070 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:49.073 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 10:36:49.138 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 10:36:49.151 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 10:36:49.159 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 10:36:49.165 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 86.6728ms
2024-08-29 10:36:49.170 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:49.173 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 157.139ms
2024-08-29 10:36:50.448 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 10:36:50.454 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:50.457 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 10:36:50.470 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 10:36:50.483 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 10:36:50.491 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 10:36:50.496 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 33.9558ms
2024-08-29 10:36:50.502 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:50.539 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 90.9477ms
2024-08-29 10:36:51.727 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 10:36:51.734 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:51.737 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 10:36:51.751 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 10:36:51.763 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 10:36:51.777 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 10:36:51.799 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 54.3692ms
2024-08-29 10:36:51.834 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:51.844 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 117.1961ms
2024-08-29 10:36:54.146 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 10:36:54.165 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:54.224 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 10:36:54.266 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 10:36:54.284 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 10:36:54.301 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 10:36:54.304 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 45.6445ms
2024-08-29 10:36:54.308 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:36:54.311 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 164.2745ms
2024-08-29 10:37:07.744 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee - null null
2024-08-29 10:37:07.751 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 10:37:07.758 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 10:37:07.763 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperMarket)
2024-08-29 10:37:07.766 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 10:37:07.768 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee - 401 0 null 24.2401ms
2024-08-29 10:38:13.900 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 10:38:13.907 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 10:38:13.925 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 10:38:13.959 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 10:38:14.037 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 10:38:14.061 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 10:38:14.071 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 141.2891ms
2024-08-29 10:38:14.077 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 10:38:14.080 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 179.9809ms
2024-08-29 10:38:48.061 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 10:38:48.092 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 10:38:48.106 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 10:38:48.114 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 10:38:48.118 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 10:38:48.120 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 59.4408ms
2024-08-29 10:45:38.945 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 10:45:39.047 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 101.672ms
2024-08-29 10:45:39.080 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 10:45:39.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 10:45:39.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 125.4155ms
2024-08-29 10:45:39.217 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 138.5901ms
2024-08-29 10:45:39.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 10:45:39.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.423ms
2024-08-29 10:50:09.559 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 10:50:10.446 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 10:50:10.451 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 10:50:10.460 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 10:50:10.465 +03:00 [INF] Hosting environment: Development
2024-08-29 10:50:10.467 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 10:50:11.950 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 10:50:13.039 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1100.782ms
2024-08-29 10:50:13.060 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 10:50:13.073 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 10:50:13.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 47.1199ms
2024-08-29 10:50:13.515 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 441.9427ms
2024-08-29 10:50:13.670 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 10:50:14.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 400.8235ms
2024-08-29 10:50:26.388 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 10:50:26.558 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 10:50:26.627 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 10:50:29.676 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 10:50:31.933 +03:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 10:50:32.254 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 10:50:32.380 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 10:50:32.409 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 5769.1698ms
2024-08-29 10:50:32.448 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 10:50:32.560 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 6171.6104ms
2024-08-29 10:51:03.106 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 10:51:03.249 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 10:51:03.308 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 10:51:03.329 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 10:51:03.348 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 10:51:03.352 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 246.573ms
2024-08-29 10:52:03.115 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 10:52:03.129 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:52:03.146 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 10:52:03.406 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 10:52:03.440 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 10:52:03.465 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 10:52:03.471 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 319.3027ms
2024-08-29 10:52:03.474 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 10:52:03.482 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 367.3746ms
2024-08-29 10:52:21.152 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee - null null
2024-08-29 10:52:21.159 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 10:52:21.173 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 10:52:21.179 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperMarket)
2024-08-29 10:52:21.210 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 10:52:21.485 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee - 401 0 null 333.5616ms
2024-08-29 10:59:41.512 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 10:59:43.834 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 10:59:47.095 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 10:59:47.110 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 10:59:47.114 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 10:59:47.119 +03:00 [INF] Hosting environment: Development
2024-08-29 10:59:47.133 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 10:59:48.478 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1380.193ms
2024-08-29 10:59:48.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 10:59:48.701 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 10:59:48.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 107.6648ms
2024-08-29 10:59:49.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 779.7522ms
2024-08-29 10:59:49.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 10:59:51.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2306.6705ms
2024-08-29 11:02:29.430 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/Employee - null null
2024-08-29 11:02:30.346 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 11:02:30.480 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 11:02:30.505 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperMarket)
2024-08-29 11:02:30.520 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 11:02:30.547 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/Employee - 401 0 null 1117.0498ms
2024-08-29 11:02:37.623 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 11:02:37.649 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:02:37.725 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:02:40.599 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 11:02:43.024 +03:00 [INF] Executed DbCommand (180ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 11:02:43.271 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 11:02:43.373 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 11:02:43.458 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 5707.9636ms
2024-08-29 11:02:43.491 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:02:43.518 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 5894.6519ms
2024-08-29 11:03:13.505 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 11:03:13.571 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 11:03:13.594 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 11:03:13.603 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:03:13.608 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 11:03:13.614 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 109.0752ms
2024-08-29 11:18:07.520 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 11:18:08.529 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 11:18:08.532 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 11:18:08.539 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 11:18:08.542 +03:00 [INF] Hosting environment: Development
2024-08-29 11:18:08.544 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 11:18:09.397 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 11:18:10.307 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 923.9972ms
2024-08-29 11:18:10.341 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 11:18:10.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 11:18:10.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 54.8363ms
2024-08-29 11:18:10.617 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 242.9126ms
2024-08-29 11:18:10.744 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 11:18:11.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 407.1853ms
2024-08-29 11:19:12.875 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 11:19:12.927 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:19:12.999 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:19:15.742 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 11:19:18.020 +03:00 [INF] Executed DbCommand (142ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 11:19:18.323 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 11:19:18.543 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 11:19:18.580 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 5568.5318ms
2024-08-29 11:19:18.592 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:19:18.623 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 5748.4997ms
2024-08-29 11:19:42.900 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 162
2024-08-29 11:19:42.935 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:19:42.949 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-08-29 11:19:42.954 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 302 0 null 54.1671ms
2024-08-29 11:19:42.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FSuperMarketAuth%2FRegister - null null
2024-08-29 11:19:42.976 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FSuperMarketAuth%2FRegister - 404 0 null 10.2857ms
2024-08-29 11:19:42.984 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/Account/Login, Response status code: 404
2024-08-29 11:20:18.934 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 191
2024-08-29 11:20:18.956 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:20:18.972 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-08-29 11:20:18.992 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 302 0 null 57.8731ms
2024-08-29 11:20:19.000 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FSuperMarketAuth%2FRegister - null null
2024-08-29 11:20:19.007 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FSuperMarketAuth%2FRegister - 404 0 null 7.492ms
2024-08-29 11:20:19.015 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/Account/Login, Response status code: 404
2024-08-29 11:21:05.708 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 168
2024-08-29 11:21:05.720 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:21:05.723 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-08-29 11:21:05.726 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 302 0 null 24.3946ms
2024-08-29 11:21:05.744 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FSuperMarketAuth%2FRegister - null null
2024-08-29 11:21:05.750 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FSuperMarketAuth%2FRegister - 404 0 null 5.9921ms
2024-08-29 11:21:05.756 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/Account/Login, Response status code: 404
2024-08-29 11:22:28.212 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - application/json 55
2024-08-29 11:22:28.230 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:22:28.235 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:22:28.386 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 11:22:28.411 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 11:22:28.426 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 11:22:28.431 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 190.3933ms
2024-08-29 11:22:28.640 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:22:28.670 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 457.7053ms
2024-08-29 11:23:06.320 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 76
2024-08-29 11:23:06.375 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:23:06.379 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-08-29 11:23:06.381 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 302 0 null 61.3617ms
2024-08-29 11:23:06.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FAdminAuth%2FRegister - null null
2024-08-29 11:23:06.399 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FAdminAuth%2FRegister - 404 0 null 11.1406ms
2024-08-29 11:23:06.441 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/Account/Login, Response status code: 404
2024-08-29 11:25:28.537 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 52
2024-08-29 11:25:28.548 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 11:25:28.564 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 11:25:28.627 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 11:25:28.675 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 11:25:28.727 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 11:25:28.732 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 164.2252ms
2024-08-29 11:25:28.741 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 11:25:28.744 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 208.2513ms
2024-08-29 11:25:51.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/Employee - null null
2024-08-29 11:25:51.438 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperMarket)
2024-08-29 11:25:51.441 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-08-29 11:25:51.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/Employee - 302 0 null 65.9046ms
2024-08-29 11:25:51.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FEmployee - null null
2024-08-29 11:25:51.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FEmployee - 404 0 null 21.7753ms
2024-08-29 11:25:51.543 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/Account/Login, Response status code: 404
2024-08-29 11:26:06.050 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/Employee - null null
2024-08-29 11:26:06.056 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperMarket)
2024-08-29 11:26:06.084 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-08-29 11:26:06.092 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/Employee - 302 0 null 42.1317ms
2024-08-29 11:26:06.095 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FEmployee - null null
2024-08-29 11:26:06.104 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/Account/Login?ReturnUrl=%2Fapi%2FEmployee - 404 0 null 9.145ms
2024-08-29 11:26:06.111 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/Account/Login, Response status code: 404
2024-08-29 11:31:26.081 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 11:31:26.813 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 11:31:27.050 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 11:31:27.056 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 11:31:27.058 +03:00 [INF] Hosting environment: Development
2024-08-29 11:31:27.062 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 11:31:28.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 11:31:29.211 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1027.2462ms
2024-08-29 11:31:29.521 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 11:31:29.537 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 15.4135ms
2024-08-29 11:31:39.068 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 11:31:42.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 3604.4606ms
2024-08-29 11:31:45.900 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 11:31:46.254 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 353.772ms
2024-08-29 11:31:54.045 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/Employee - null null
2024-08-29 11:31:54.306 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperMarket)
2024-08-29 11:31:54.318 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 11:31:54.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/Employee - 401 0 null 274.7409ms
2024-08-29 11:32:18.309 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - application/json 56
2024-08-29 11:32:18.345 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:32:18.432 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:32:21.359 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 11:32:24.429 +03:00 [INF] Executed DbCommand (201ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 11:32:24.787 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 11:32:24.911 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 11:32:24.943 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 6485.0968ms
2024-08-29 11:32:24.948 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:32:24.970 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 6661.4736ms
2024-08-29 11:32:51.738 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 76
2024-08-29 11:32:51.759 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:32:51.762 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 11:32:51.766 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 27.9874ms
2024-08-29 11:32:59.637 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 76
2024-08-29 11:32:59.721 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:32:59.726 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 11:32:59.729 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 91.3618ms
2024-08-29 11:33:49.760 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 85
2024-08-29 11:33:49.879 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 11:33:49.940 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 11:33:49.944 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:33:49.951 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 11:33:49.958 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 198.5976ms
2024-08-29 11:40:56.135 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 11:40:57.893 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 11:40:58.019 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 11:40:58.038 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 11:40:58.044 +03:00 [INF] Hosting environment: Development
2024-08-29 11:40:58.046 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 11:40:58.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 11:40:59.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 755.8781ms
2024-08-29 11:40:59.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 11:40:59.469 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 11:40:59.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 29.9107ms
2024-08-29 11:40:59.668 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 198.7339ms
2024-08-29 11:40:59.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 11:41:00.383 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 492.1315ms
2024-08-29 11:42:00.449 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 76
2024-08-29 11:42:00.647 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:42:00.732 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:42:01.683 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-08-29 11:42:01.698 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 950.8394ms
2024-08-29 11:42:01.702 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:42:01.711 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 400 null text/plain; charset=utf-8 1262.4961ms
2024-08-29 11:42:34.472 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 76
2024-08-29 11:42:34.514 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:42:34.523 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:43:20.136 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-08-29 11:43:20.180 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 45652.0345ms
2024-08-29 11:43:20.183 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:43:20.195 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 400 null text/plain; charset=utf-8 45723.4867ms
2024-08-29 11:43:28.620 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 81
2024-08-29 11:43:28.629 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:43:28.632 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:43:50.447 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-08-29 11:43:50.457 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 21819.738ms
2024-08-29 11:43:50.465 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:43:50.468 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 400 null text/plain; charset=utf-8 21848.4749ms
2024-08-29 11:45:35.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 11:45:35.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 54.5465ms
2024-08-29 11:45:35.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 11:45:35.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 11:45:35.223 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 15.2558ms
2024-08-29 11:45:35.286 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.9301ms
2024-08-29 11:45:35.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 11:45:35.802 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.5418ms
2024-08-29 11:46:01.851 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 104
2024-08-29 11:46:01.864 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:46:01.876 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:46:08.714 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 11:46:10.754 +03:00 [INF] Executed DbCommand (139ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-08-29 11:46:11.506 +03:00 [ERR] Failed executing DbCommand (82ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-08-29 11:46:11.581 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Entities.Database_Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'POS_System.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:aa6a03ca-38a4-4790-94e8-53fe2b6af703
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'POS_System.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:aa6a03ca-38a4-4790-94e8-53fe2b6af703
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-29 11:46:11.994 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 10112.8384ms
2024-08-29 11:46:11.999 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:46:12.401 +03:00 [ERR] c4e1c33d-794d-4a44-a12d-02aff956de02 : An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'POS_System.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:aa6a03ca-38a4-4790-94e8-53fe2b6af703
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at POS_System.Controllers.Auth_Controllers.AdminAuthController.Register(AppUserRequest userRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at POS_System.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext)
2024-08-29 11:46:12.533 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 500 null application/json; charset=utf-8 10682.7926ms
2024-08-29 11:49:07.645 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 11:49:23.505 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 11:49:23.507 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 11:49:23.554 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 11:49:23.559 +03:00 [INF] Hosting environment: Development
2024-08-29 11:49:23.561 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 11:49:24.610 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 11:49:25.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1129.1081ms
2024-08-29 11:49:25.776 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 11:49:25.777 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 11:49:25.843 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 67.874ms
2024-08-29 11:49:26.195 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 419.7306ms
2024-08-29 11:49:26.353 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 11:49:27.394 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1041.9047ms
2024-08-29 11:49:45.972 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 104
2024-08-29 11:49:46.284 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:49:46.380 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:49:58.856 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 11:50:01.202 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-08-29 11:50:01.911 +03:00 [ERR] Failed executing DbCommand (93ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-08-29 11:50:02.011 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Entities.Database_Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'POS_System.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:72cdc40c-c7f6-4cc3-8899-077f1181b48b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'POS_System.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:72cdc40c-c7f6-4cc3-8899-077f1181b48b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-29 11:50:02.431 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 15972.617ms
2024-08-29 11:50:02.438 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:50:02.766 +03:00 [ERR] fb8b13d4-ae84-42d8-bec4-9dc3a729fbaf : An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'POS_System.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:72cdc40c-c7f6-4cc3-8899-077f1181b48b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at POS_System.Controllers.Auth_Controllers.AdminAuthController.Register(AppUserRequest userRequest) in C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System\Controllers\Auth Controllers\AdminAuthController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at POS_System.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System\Middlewares\ExceptionHandlerMiddleware.cs:line 21
2024-08-29 11:50:03.261 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 500 null application/json; charset=utf-8 17289.3298ms
2024-08-29 11:50:28.917 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 104
2024-08-29 11:50:46.140 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:50:46.143 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:53:51.672 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-08-29 11:53:51.747 +03:00 [ERR] Failed executing DbCommand (58ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-08-29 11:53:51.924 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Entities.Database_Context.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'POS_System.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:72cdc40c-c7f6-4cc3-8899-077f1181b48b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'POS_System.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:72cdc40c-c7f6-4cc3-8899-077f1181b48b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-29 11:53:52.413 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 11:53:53.390 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 187239.668ms
2024-08-29 11:53:53.527 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:53:53.964 +03:00 [ERR] 38149165-f2ed-488a-899e-d5eb517d9e2d : An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'POS_System.dbo.AspNetUsers'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:72cdc40c-c7f6-4cc3-8899-077f1181b48b
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at POS_System.Controllers.Auth_Controllers.AdminAuthController.Register(AppUserRequest userRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at POS_System.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext)
2024-08-29 11:53:53.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1584.7702ms
2024-08-29 11:53:54.029 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 500 null application/json; charset=utf-8 205111.8653ms
2024-08-29 11:53:55.910 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 11:53:55.920 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 11:53:55.968 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 58.7942ms
2024-08-29 11:53:56.110 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 190.0351ms
2024-08-29 11:53:56.336 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 11:53:56.942 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 605.1298ms
2024-08-29 11:54:22.320 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 104
2024-08-29 11:54:22.336 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:54:22.354 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:54:24.757 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-08-29 11:54:24.810 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-08-29 11:54:37.232 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-08-29 11:54:37.375 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__get_Item_0 AND [a].[RoleId] = @__get_Item_1
2024-08-29 11:54:37.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-08-29 11:54:37.427 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-08-29 11:54:37.523 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p17='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [Role] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-08-29 11:54:49.051 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Admin] ([AdminId], [AppUserId])
VALUES (@p0, @p1);
2024-08-29 11:54:50.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-08-29 11:54:50.483 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 28125.7893ms
2024-08-29 11:54:50.487 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 11:54:50.489 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 200 null text/plain; charset=utf-8 28169.0086ms
2024-08-29 11:55:05.998 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - application/json 51
2024-08-29 11:55:06.029 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:55:06.049 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 11:55:06.087 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 11:55:06.120 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 11:55:06.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 11:55:06.191 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 135.4214ms
2024-08-29 11:55:06.198 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 11:55:06.201 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 202.9091ms
2024-08-29 11:56:05.923 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 11:56:05.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 35.7299ms
2024-08-29 11:56:05.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 11:56:05.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 11:56:06.013 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 16.4399ms
2024-08-29 11:56:06.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 173.018ms
2024-08-29 11:56:06.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 11:56:07.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.0754ms
2024-08-29 11:56:31.355 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 104
2024-08-29 11:56:31.383 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:56:31.400 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 11:56:31.403 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 51.6814ms
2024-08-29 11:56:40.603 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 104
2024-08-29 11:56:40.621 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 11:56:40.639 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 11:56:40.655 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 51.9487ms
2024-08-29 12:17:34.031 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 12:17:48.346 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 12:17:48.349 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 12:17:48.355 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 12:17:48.358 +03:00 [INF] Hosting environment: Development
2024-08-29 12:17:48.365 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 12:17:49.683 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 12:17:51.124 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1458.6189ms
2024-08-29 12:17:51.167 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 12:17:51.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 12:17:51.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 79.3847ms
2024-08-29 12:17:51.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 535.0146ms
2024-08-29 12:17:52.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 12:17:53.287 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1232.1324ms
2024-08-29 12:18:07.424 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 12:18:07.685 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 12:18:07.779 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 12:18:11.275 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 12:18:13.343 +03:00 [INF] Executed DbCommand (107ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 12:18:13.715 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 12:18:13.853 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 12:18:13.892 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 6019.495ms
2024-08-29 12:18:13.933 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 12:18:13.969 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 6545.7311ms
2024-08-29 12:18:49.385 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 104
2024-08-29 12:18:49.453 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 12:18:49.472 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 12:18:49.474 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 114.458ms
2024-08-29 12:18:56.616 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 104
2024-08-29 12:18:56.629 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 12:18:56.633 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 12:18:56.637 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 21.5678ms
2024-08-29 12:51:53.459 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 104
2024-08-29 12:51:53.467 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 12:51:53.486 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 12:51:53.646 +03:00 [ERR] 54804a8e-6b6a-4726-82f6-83b5bf308728 : Could not load type 'Invalid_Token.0x02000032' from assembly 'POS System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
System.TypeLoadException: Could not load type 'Invalid_Token.0x02000032' from assembly 'POS System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeConstructorInfo.<get_Signature>g__LazyCreateSignature|21_0()
   at System.Reflection.RuntimeConstructorInfo.GetParameters()
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.TryFindMatchingConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& parameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactoryInternal(Type instanceType, Type[] argumentTypes, ParameterExpression& provider, ParameterExpression& argumentArray, Expression& factoryExpressionBody)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactory(Type instanceType, Type[] argumentTypes)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.CreateActivator(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.CreateControllerFactory(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at POS_System.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext)
2024-08-29 12:51:53.745 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 500 null application/json; charset=utf-8 285.6306ms
2024-08-29 12:52:23.450 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 12:52:23.480 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 12:52:23.500 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 12:52:23.585 +03:00 [ERR] 1100ca64-56da-459e-b380-2149f212882c : Could not load type 'Invalid_Token.0x02000032' from assembly 'POS System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
System.TypeLoadException: Could not load type 'Invalid_Token.0x02000032' from assembly 'POS System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeConstructorInfo.<get_Signature>g__LazyCreateSignature|21_0()
   at System.Reflection.RuntimeConstructorInfo.GetParameters()
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.TryFindMatchingConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& parameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactoryInternal(Type instanceType, Type[] argumentTypes, ParameterExpression& provider, ParameterExpression& argumentArray, Expression& factoryExpressionBody)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactory(Type instanceType, Type[] argumentTypes)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.CreateActivator(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.CreateControllerFactory(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at POS_System.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext)
2024-08-29 12:52:23.640 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - 500 null application/json; charset=utf-8 190.791ms
2024-08-29 12:52:36.379 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 12:52:36.396 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 12:52:36.406 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 12:52:36.489 +03:00 [ERR] fc941b9b-3c3a-498f-8090-d4bce793cea6 : Could not load type 'Invalid_Token.0x02000032' from assembly 'POS System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
System.TypeLoadException: Could not load type 'Invalid_Token.0x02000032' from assembly 'POS System, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeConstructorInfo.<get_Signature>g__LazyCreateSignature|21_0()
   at System.Reflection.RuntimeConstructorInfo.GetParameters()
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.TryFindMatchingConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& parameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactoryInternal(Type instanceType, Type[] argumentTypes, ParameterExpression& provider, ParameterExpression& argumentArray, Expression& factoryExpressionBody)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateFactory(Type instanceType, Type[] argumentTypes)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.CreateActivator(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.CreateControllerFactory(ControllerActionDescriptor descriptor)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at POS_System.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext)
2024-08-29 12:52:36.538 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - 500 null application/json; charset=utf-8 158.5083ms
2024-08-29 12:53:12.248 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 12:53:12.947 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 12:53:12.950 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 12:53:12.957 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 12:53:12.960 +03:00 [INF] Hosting environment: Development
2024-08-29 12:53:12.962 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 12:53:14.328 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 12:53:15.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1312.0286ms
2024-08-29 12:53:15.672 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 12:53:15.672 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 12:53:15.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 194.1425ms
2024-08-29 12:53:15.957 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 285.9342ms
2024-08-29 12:53:16.063 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 12:53:16.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 414.0919ms
2024-08-29 12:54:51.864 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 12:54:52.425 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 12:54:52.505 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 12:54:54.750 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 2230.0449ms
2024-08-29 12:54:54.784 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 12:54:54.926 +03:00 [ERR] ed09d431-9905-40d9-a625-86931678c3f1 : Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'POS_System.Controllers.Auth_Controllers.AdminAuthController'.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'POS_System.Controllers.Auth_Controllers.AdminAuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at POS_System.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System\Middlewares\ExceptionHandlerMiddleware.cs:line 21
2024-08-29 12:55:00.034 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - 500 null application/json; charset=utf-8 8169.8161ms
2024-08-29 12:56:38.324 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 12:56:39.653 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 12:56:39.656 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 12:56:39.662 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 12:56:39.665 +03:00 [INF] Hosting environment: Development
2024-08-29 12:56:39.668 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 12:56:40.812 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 12:56:41.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 942.3583ms
2024-08-29 12:56:41.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 12:56:41.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 12:56:41.962 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 76.4274ms
2024-08-29 12:56:42.108 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 220.4598ms
2024-08-29 12:56:42.524 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 12:56:43.096 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 572.29ms
2024-08-29 13:05:14.744 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 13:05:14.985 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 13:05:15.105 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:05:19.943 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 13:05:23.067 +03:00 [INF] Executed DbCommand (136ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 13:05:23.348 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 13:05:23.455 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 13:05:23.476 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 7578.9859ms
2024-08-29 13:05:23.481 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 13:05:23.503 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 8760.1491ms
2024-08-29 13:05:37.684 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 92
2024-08-29 13:05:37.709 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:05:37.727 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:05:54.233 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-29 13:05:54.247 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 16511.2594ms
2024-08-29 13:05:54.250 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:05:54.253 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 200 null application/json; charset=utf-8 16569.4577ms
2024-08-29 13:07:50.138 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 13:07:50.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 64.9513ms
2024-08-29 13:07:50.246 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 13:07:50.247 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 13:07:50.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 24.5907ms
2024-08-29 13:07:50.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 191.704ms
2024-08-29 13:07:52.105 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 13:07:52.144 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.2617ms
2024-08-29 13:08:02.276 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 92
2024-08-29 13:08:02.407 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:08:02.425 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:08:04.640 +03:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-08-29 13:08:04.938 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 2342.3173ms
2024-08-29 13:08:05.043 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:08:05.262 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 204 null null 2985.8177ms
2024-08-29 13:08:51.174 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 92
2024-08-29 13:08:51.193 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:08:51.203 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:13:21.464 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 13:13:22.294 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 13:13:22.296 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 13:13:22.303 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 13:13:22.306 +03:00 [INF] Hosting environment: Development
2024-08-29 13:13:22.308 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 13:13:23.719 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 13:13:24.935 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1226.6781ms
2024-08-29 13:13:25.113 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 13:13:25.113 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 13:13:25.134 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 20.9714ms
2024-08-29 13:13:25.299 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 186.0603ms
2024-08-29 13:13:25.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 13:13:25.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 574.7486ms
2024-08-29 13:13:49.937 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - application/json 92
2024-08-29 13:13:50.188 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-29 13:13:50.199 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 13:13:50.202 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 265.336ms
2024-08-29 13:14:32.752 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 13:14:33.558 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 13:14:33.565 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 13:14:33.579 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 13:14:33.583 +03:00 [INF] Hosting environment: Development
2024-08-29 13:14:33.585 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 13:14:34.537 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 13:14:35.767 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1241.8378ms
2024-08-29 13:14:35.901 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 13:14:35.910 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 13:14:36.298 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 387.7439ms
2024-08-29 13:14:36.405 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 504.5467ms
2024-08-29 13:14:36.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 13:14:36.978 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 443.3049ms
2024-08-29 13:14:54.331 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 85
2024-08-29 13:14:54.802 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:14:54.934 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:14:55.019 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-29 13:14:55.033 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 13:14:55.059 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 728.6657ms
2024-08-29 13:18:24.552 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 13:18:25.366 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 13:18:25.368 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 13:18:25.374 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 13:18:25.377 +03:00 [INF] Hosting environment: Development
2024-08-29 13:18:25.379 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 13:18:26.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 13:18:27.930 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 1429.0259ms
2024-08-29 13:18:28.006 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 13:18:28.006 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 13:18:28.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 58.4102ms
2024-08-29 13:18:28.220 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 213.7317ms
2024-08-29 13:18:28.349 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 13:18:29.029 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 679.9728ms
2024-08-29 13:20:35.187 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 85
2024-08-29 13:20:35.526 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:20:35.774 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:20:35.794 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-29 13:20:35.813 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 13:20:35.835 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 648.2133ms
2024-08-29 13:21:11.314 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 85
2024-08-29 13:21:11.334 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:21:11.341 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:21:11.347 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-08-29 13:21:11.350 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 13:21:11.352 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 401 0 null 60.7194ms
2024-08-29 13:21:19.939 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 13:21:20.377 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 437.7405ms
2024-08-29 13:21:20.422 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 13:21:20.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.5285ms
2024-08-29 13:21:20.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 13:21:20.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 10.7729ms
2024-08-29 13:21:21.589 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 85
2024-08-29 13:21:22.955 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:21:22.980 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:21:23.158 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:21:23.245 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:21:23.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 13:21:23.700 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.8873ms
2024-08-29 13:21:23.979 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-08-29 13:21:24.031 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 766.6962ms
2024-08-29 13:21:24.035 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:21:24.043 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 400 null application/problem+json; charset=utf-8 2453.9263ms
2024-08-29 13:21:53.110 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 119
2024-08-29 13:21:53.132 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:21:53.143 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:21:53.146 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:21:53.150 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:21:58.896 +03:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-08-29 13:21:58.899 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 5743.6678ms
2024-08-29 13:21:58.902 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:21:58.906 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 204 null null 5796.4931ms
2024-08-29 13:22:12.768 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 13:22:12.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 36.1251ms
2024-08-29 13:22:12.823 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 13:22:12.824 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 13:22:12.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 12.303ms
2024-08-29 13:22:12.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.4248ms
2024-08-29 13:22:15.767 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 119
2024-08-29 13:22:15.799 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:22:15.811 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:22:15.814 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:22:15.829 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:22:19.576 +03:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-08-29 13:22:19.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 13:22:19.591 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 3757.0726ms
2024-08-29 13:22:19.597 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:22:19.603 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 204 null null 3835.4135ms
2024-08-29 13:22:19.623 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.969ms
2024-08-29 13:33:38.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 13:33:38.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 31.7796ms
2024-08-29 13:33:38.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 13:33:38.539 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 13:33:38.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 19.4736ms
2024-08-29 13:33:38.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.0291ms
2024-08-29 13:33:38.736 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 13:33:38.760 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.0842ms
2024-08-29 13:33:41.908 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 119
2024-08-29 13:33:41.914 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:33:41.926 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:33:41.930 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:33:41.941 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:33:46.389 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-08-29 13:33:46.406 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 4461.0646ms
2024-08-29 13:33:46.412 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:33:46.415 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 200 null application/json; charset=utf-8 4507.2049ms
2024-08-29 13:36:20.108 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 13:36:20.143 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 35.8224ms
2024-08-29 13:36:20.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 13:36:20.174 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 13:36:20.190 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 17.2223ms
2024-08-29 13:36:20.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.5499ms
2024-08-29 13:36:21.014 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 13:36:21.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.6439ms
2024-08-29 13:36:42.112 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 119
2024-08-29 13:36:42.118 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:36:42.129 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:36:42.132 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:36:42.143 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:36:46.722 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-08-29 13:36:46.742 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 4593.0027ms
2024-08-29 13:36:46.745 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:36:46.748 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 200 null application/json; charset=utf-8 4636.9316ms
2024-08-29 13:52:04.091 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 13:52:04.115 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 13:52:04.127 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:52:13.887 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 13:52:16.113 +03:00 [INF] Executed DbCommand (175ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 13:52:52.456 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 13:54:42.681 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 13:54:42.688 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 158554.0152ms
2024-08-29 13:54:42.693 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 13:54:42.713 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 158622.2177ms
2024-08-29 13:58:08.599 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 13:58:08.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 49.2845ms
2024-08-29 13:58:08.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 13:58:08.812 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 13:58:08.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.4303ms
2024-08-29 13:58:08.863 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 50.3767ms
2024-08-29 13:58:09.536 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 13:58:09.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.3305ms
2024-08-29 13:58:13.306 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 13:58:13.317 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 13:58:13.330 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:58:15.735 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 13:58:16.746 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 13:58:19.549 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 13:58:19.632 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 6295.8496ms
2024-08-29 13:58:19.656 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 13:58:19.664 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 6357.9739ms
2024-08-29 13:58:42.258 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 168
2024-08-29 13:58:42.269 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:58:42.280 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:58:42.289 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-08-29 13:58:42.291 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 13:58:42.294 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 36.6517ms
2024-08-29 13:59:18.937 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 119
2024-08-29 13:59:18.996 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 13:59:19.130 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 13:59:19.185 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:59:19.202 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 13:59:26.825 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-08-29 13:59:26.845 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 7636.9478ms
2024-08-29 13:59:26.849 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 13:59:26.852 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 200 null application/json; charset=utf-8 7915.1951ms
2024-08-29 14:04:55.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 14:04:55.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 35.2495ms
2024-08-29 14:04:55.729 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 14:04:55.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 14:04:55.820 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.7779ms
2024-08-29 14:04:55.835 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 34.9083ms
2024-08-29 14:04:56.385 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 14:04:56.409 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.0606ms
2024-08-29 14:05:38.042 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 14:05:39.305 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 14:05:39.434 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 14:05:39.462 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 14:05:39.466 +03:00 [INF] Hosting environment: Development
2024-08-29 14:05:39.467 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 14:05:40.584 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 14:05:41.509 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 938.4927ms
2024-08-29 14:05:41.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 14:05:41.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 14:05:41.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 38.1678ms
2024-08-29 14:05:42.013 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 468.7296ms
2024-08-29 14:05:42.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 14:05:43.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1183.9976ms
2024-08-29 14:05:55.702 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - application/json 57
2024-08-29 14:05:55.903 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 14:05:55.977 +03:00 [INF] Route matched with {action = "Login", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 14:06:02.924 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 14:06:05.154 +03:00 [INF] Executed DbCommand (161ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 14:06:07.760 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[AdminId], [a].[AppUserId]
FROM [Admin] AS [a]
WHERE [a].[AppUserId] = @__appUserId_0
2024-08-29 14:06:11.354 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.AdminLoginResponseDto'.
2024-08-29 14:06:11.552 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System) in 15556.7482ms
2024-08-29 14:06:11.592 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Login (POS System)'
2024-08-29 14:06:11.638 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Login - 200 null application/json; charset=utf-8 15935.5726ms
2024-08-29 14:06:19.398 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 119
2024-08-29 14:06:19.537 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 14:06:19.586 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 14:06:19.589 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 14:06:19.602 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 14:08:39.915 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-08-29 14:08:39.936 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 140329.543ms
2024-08-29 14:08:39.938 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 14:08:39.942 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 200 null application/json; charset=utf-8 140543.9456ms
2024-08-29 14:10:25.459 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 119
2024-08-29 14:10:25.471 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 14:10:25.479 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 14:10:25.482 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 14:10:25.485 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 14:10:32.905 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-08-29 14:10:32.913 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 7423.1075ms
2024-08-29 14:10:32.917 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 14:10:32.922 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 200 null application/json; charset=utf-8 7462.4024ms
2024-08-29 14:10:40.720 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 119
2024-08-29 14:10:40.729 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 14:10:40.731 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 14:10:44.030 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-08-29 14:10:44.071 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 3335.298ms
2024-08-29 14:10:44.073 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 14:10:44.076 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 200 null application/json; charset=utf-8 3356.2953ms
2024-08-29 14:11:39.018 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - application/json 119
2024-08-29 14:11:39.029 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 14:11:39.036 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 14:11:39.038 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 14:11:39.040 +03:00 [INF] Route matched with {action = "Register", controller = "AdminAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Entities.DTO.Request.AppUserRequest) on controller POS_System.Controllers.Auth_Controllers.AdminAuthController (POS System).
2024-08-29 14:11:43.861 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Security.Claims.Claim, System.Security.Claims, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]'.
2024-08-29 14:11:43.884 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System) in 4839.8683ms
2024-08-29 14:11:43.890 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.AdminAuthController.Register (POS System)'
2024-08-29 14:11:43.892 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/AdminAuth/Register - 200 null application/json; charset=utf-8 4874.6397ms
2024-08-29 14:28:27.646 +03:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-29 14:28:28.701 +03:00 [INF] Now listening on: https://localhost:7156
2024-08-29 14:28:28.736 +03:00 [INF] Now listening on: http://localhost:5291
2024-08-29 14:28:28.804 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-29 14:28:28.812 +03:00 [INF] Hosting environment: Development
2024-08-29 14:28:28.876 +03:00 [INF] Content root path: C:\Users\user\Desktop\WorkShop\.Net Development\Projects\POS System\POS System
2024-08-29 14:28:30.340 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-08-29 14:28:31.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 891.6389ms
2024-08-29 14:28:31.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-08-29 14:28:31.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-08-29 14:28:31.344 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13756 application/javascript; charset=utf-8 27.7486ms
2024-08-29 14:28:31.489 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 171.8179ms
2024-08-29 14:28:31.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-08-29 14:28:32.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 618.1707ms
2024-08-29 14:29:40.352 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - application/json 55
2024-08-29 14:29:40.523 +03:00 [INF] Executing endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 14:29:40.600 +03:00 [INF] Route matched with {action = "Login", controller = "SuperMarketAuth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Entities.DTO.Login.AppUserLogin) on controller POS_System.Controllers.Auth_Controllers.SuperMarketAuthController (POS System).
2024-08-29 14:29:44.938 +03:00 [WRN] No store type was specified for the decimal property 'Discount' on entity type 'Product'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-08-29 14:29:47.203 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-08-29 14:29:47.569 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__appUserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[SuperMarketId], [s].[Address], [s].[AppUserId], [s].[PhoneNumber], [s].[SupermarketName]
FROM [SuperMarket] AS [s]
WHERE [s].[AppUserId] = @__appUserId_0
2024-08-29 14:29:47.804 +03:00 [INF] Executing OkObjectResult, writing value of type 'Entities.DTO.Login.SuperMarketLoginResponseDto'.
2024-08-29 14:29:47.833 +03:00 [INF] Executed action POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System) in 7217.2966ms
2024-08-29 14:29:47.842 +03:00 [INF] Executed endpoint 'POS_System.Controllers.Auth_Controllers.SuperMarketAuthController.Login (POS System)'
2024-08-29 14:29:47.873 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Login - 200 null application/json; charset=utf-8 7521.3266ms
2024-08-29 14:30:09.686 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/Employee - null 0
2024-08-29 14:30:10.255 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 14:30:10.422 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 14:30:10.436 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperMarket)
2024-08-29 14:30:10.448 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 14:30:10.450 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/Employee - 401 0 null 764.1192ms
2024-08-29 14:30:24.047 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 168
2024-08-29 14:30:24.123 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 14:30:24.163 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 14:30:24.172 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperMarket)
2024-08-29 14:30:24.175 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 14:30:24.178 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 131.5682ms
2024-08-29 14:30:32.338 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - application/json 168
2024-08-29 14:30:32.387 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenNoExpirationException: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-08-29 14:30:32.425 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10225: Lifetime validation failed. The token is missing an Expiration Time. Tokentype: 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken'.
2024-08-29 14:30:32.441 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperMarket)
2024-08-29 14:30:32.445 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-08-29 14:30:32.453 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/SuperMarketAuth/Register - 401 0 null 115.48ms
